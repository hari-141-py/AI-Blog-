
{% extends 'base.html' %}
{% load static %}
{% block content %}


<div class="logContainer relative">
    <div>
        <img src="{% static 'images/1.png' %}" id="floater1">
        <img src="{% static 'images/3.png' %}" id="floater3">
        <img src="{% static 'images/2.png' %}" id="floater22">
    </div>

    
     <!-- Django Messages Section -->
     {% if messages %}
     <div id="message-container" class="z-50 space-y-2 p-4 absolute top-[5vw] left-[50vw] transform -translate-x-1/2 -translate-y-1/2 opacity-0 transition-opacity duration-500">
         {% for message in messages %}
             {% if message.tags == "success" %}
             <div class="flex items-center p-4 mb-4 text-sm text-green-800 border border-green-300 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800" role="alert">
                 <svg class="shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                   <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
                 </svg>
                 <div>
                   <span class="font-medium">{{ message }}</span>
                 </div>
             </div>
     
             {% elif message.tags == "error" %}
             <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800" role="alert">
                 <svg class="shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                   <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
                 </svg>
                 <div>
                   <span class="font-medium">{{ message }}</span>
                 </div>
             </div>
             {% endif %}
         {% endfor %}
     </div>
     {% endif %}


    <!-- MAIN CONTENT -->
    <div
    class="max-w-[50vw] mx-auto relative overflow-hidden z-10  p-8 rounded-lg shadow-md absolute top-[8vw] "
    >
    <div class="flex flex-row justify-between items-center relative">
        <h2 class="text-2xl font-bold text-white">Login Your Account</h2>
        <div class="relative">
            <a class="button22" href="{% url 'blog_generator:user_register' %}">
                <span>Register</span>
            </a>
        </div>
    </div> 

    <form method="POST" class="form">

        {% csrf_token %}

        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-300" for="uname"
                >User Name</label
            >
            <input
                name="uname"
                class="mt-1 p-2 w-full bg-black border border-gray-600 rounded-md text-white"
                type="text"
                autocomplete="off"
            />
        </div>
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-300" for="pswrd"
                >Password</label
            >
            <input
                name="pswrd"
                class="mt-1 p-2 w-full bg-black border border-gray-600 rounded-md text-white"
                type="password"
                autocomplete="off"
            />
        </div>
        <div class="flex justify-end gap-5">
            <button
                class="button32"
                type="submit"
            >
            <span class="button_top"> Login </span>
            </button>
        </div>
    </form>
    </div>
</div>

    
<script>
document.addEventListener("DOMContentLoaded", function () {
    const messageContainer = document.getElementById("message-container");

    if (messageContainer) {
        // Ensure message starts hidden
        messageContainer.style.opacity = "0";
        messageContainer.style.display = "block"; // Make sure it's visible before fading

        // Fade-in after 100ms
        setTimeout(() => {
            messageContainer.style.opacity = "1";
            messageContainer.style.transition = "opacity 0.8s ease-out";
        }, 100);

        // Keep visible for 5 seconds, then fade out
        setTimeout(() => {
            messageContainer.style.opacity = "0";
        }, 5000);

        // Remove the message after fade-out
        setTimeout(() => {
            messageContainer.style.display = "none";
        }, 5800); // Wait for full fade-out before hiding
    }
});

</script>

{% endblock %}
